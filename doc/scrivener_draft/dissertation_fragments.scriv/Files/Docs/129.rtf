{\rtf1\ansi\ansicpg1252\cocoartf1187\cocoasubrtf400
{\fonttbl\f0\fnil\fcharset0 Cochin;}
{\colortbl;\red255\green255\blue255;}
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\fi360\sl288\slmult1\pardirnatural

\f0\fs28 \cf0 ####Localizing On Skeleton Map\
\
Assuming that the decision of making a branch or not has been made by the branch detection method, and that all the current poses have been added to their respective skeletons, we can assume that the current pose can be completely localized on some location of the skeleton map.  There are two possibilities for the locations of the posture curve.  Either it is 1) completely contained within a single skeleton or it is 2) overlapping two or more skeletons at once.    In the latter case, to overlap more than one skeleton, the posture curve must be inside of a map junction.  \
\
Initially, the only information we have is the initial guessed location of the new pose from the chosen motion estimation method and the categorization of the pose into a particular skeleton.  \
\
-----\
\
One use of the maps is to be able to localize the pose of the robot.  Given the current state of the skeleton map, we need methods by which we can localize the robot's pose.\
\
Why should we want to localize the robot?  Though we have used motion estimation techniques and local constraints to iteratively construct the map and robot's trajectory to the best of our ability, for circumstances when the robot is backtracking or returning to a location we have visited before, a localization technique will give us a way to perform \'93loop-closing\'94 or \'93data association\'94.  If we are traveling down a pipe in only one direction, loop-closing is not necessary since there is no chance of visiting the same location twice. \
\
In the event of visiting the same location, there are two questions that must be answered:  1)  is the robot at a location that it has visited before and 2) if so, where is its best fit?  Since we have already decided if this pose is branching and have added all the necessary branch points, and categorized this pose into individual skeletons, it is already true that this pose is somewhere on the map.  However, the location that we chose for the pose may be incorrect or may have broken the map.\
\
1) Cases where the pose is in the wrong location:\
	- Poorly overlapped poses add kinks to skeleton\
	- Many locally identical indistinguishable locations\
	- skeleton map self-intersects\
\
If the current pose is wrong, but all past poses are correct, then it is a simple matter of fixing the current pose.  However, as is often the case, if a whole history of poses is incorrect, it becomes more challenging to fix an entire history of poses.  We have an approach to selecting different histories of poses in the next chapter on Probabilistic Mapping, but for this section we will only focus on fixing the current pose.}